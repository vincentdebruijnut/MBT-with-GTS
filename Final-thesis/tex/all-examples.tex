\section{Example 1: boardgame}
The STS and GG for for the boardgame example are given in Figures~\ref{fig:example_sts} and \ref{fig:example_groove} respectively. 

\subsection{Simulation}

\subsection{Performance}
473 MB 415 ms

\subsection{Model redundancy}

\subsection{Model complexity}
start:
13 distinct operands
1 distinct operator
33 operands
3 operators

move:
2 new distinct operands
5 new distinct operators
27 operands
6 operators

nextTurn:
0 new distinct operands
1 new distinct operator
13 operands
5 operators

throws:
3 new distinct operands
2 new distinct operators
30 operands
10 operators

$n_1 = 9, n_2 = 18, N_1 = 24, N_2 = 103$ Volume is 127*4.75 = 603.25

STS:
22 distinct operands
5 distinct operators
62 operands
25 operators

$n_1 = 5, n_2 = 22, N_1 = 25, N_2 = 62$ Volume is 87*4.75 = 413.25


\subsection{Extendability}
The boardgame is extended to include more players and locations. For the GG, this means adding new locations and players to the initial graph. The players get a fixed order in which they play. This means that the next turn rule also has to be extended. The result is in Figure~\ref{fig:gg-bg-extended}. This extension reduces the distinct number of operators by 1 and introduces no new operands. The number of operator occurences has decreased by 1 and the number of operand occurences has grown by 10.

\begin{figure}[ht]
  \begin{center}
    \subfloat[The initial graph]{\label{fig:start-bg-extended}\input{./img/start-bg-extended.tikz}}\hspace{20px}
    \subfloat[The next turn rule]{\label{fig:nextTurn-bg-extended}\input{./img/nextTurn-bg-extended.tikz}}
  \end{center}
  \caption{The extended graph grammar of the board game example in Figure~\ref{fig:example_groove}}
  \label{fig:gg-bg-extended}
\end{figure}

The STS gains a variable and a switch relation for the new player. The result is in Figure~\ref{fig:sts-bg-extended}. The distinct number of operators has not increased and the distinct number of operands has increased by 1. The number of operator occurences has increased by 9 and the number of operand occurences has increased by 17.

The volume of the GG has increased by 35.95. $n_1 = 8, n_2 = 18, N_1 = 23, N_2 = 113$ Volume is 136*4.70 = 639.20
The volume of the STS has increased by 130.28. $n_1 = 5, n_2 = 23, N_1 = 34, N_2 = 79$ Volume is 113*4.81 = 543.53


\section{Example 2: farmer-wolf-goat-cabbage}
In this puzzle, a farmer, wolf, goat and cabbage are on one side of a river. The farmer can take upto one object to the other side. If the wolf and goat are on one side of the river without the farmer, the wolf eats the goat and the puzzle is reset. This also holds for the goat and the cabbage. The goal is to move all four to the other side of the river. The GG of this puzzle is in Figure~\ref{fig:gg-fwgc}. Here the 'move' and 'invalid' rules are similar, therefore only the 'move cabbage' rule is shown. The response rules '!retry', '!eaten' and '!done' have a higher priority. This ensures that a proper response is given after a move, before allowing more stimuli. The STS of this puzzle is in Figure~\ref{fig:sts-fwgc}.

\begin{figure}[ht]
  \begin{center}
    \subfloat[The initial graph]{\label{fig:start-bg}\input{./img/start-fwgc.tikz}}\hspace{20px}
    \subfloat[The ?c (move cabbage) rule with priority 0]{\label{fig:c-fwgc}\input{./img/c-fwgc.tikz}}\\
    \subfloat[The ?c (invalid cabbage move) rule with priority 0]{\label{fig:c-invalid-fwgc}\input{./img/c-invalid-fwgc.tikz}}\hspace{20px}
    \subfloat[The !retry rule with priority 1]{\label{fig:retry-fwgc}\input{./img/retry-fwgc.tikz}}\\
    \subfloat[The !eaten rule with priority 1]{\label{fig:reinit}\input{./img/eaten-reinit-fwgc.tikz}}\\
    \subfloat[The !done rule with priority 1]{\label{fig:done}\input{./img/done-fwgc.tikz}}
  \end{center}
  \caption{The graph grammar of the farmer-wolf-goat-cabbage puzzle}
  \label{fig:gg-fwgc}
\end{figure}

\begin{figure}[ht]
  \begin{center}
    \input{./img/sts_fwgc.tex}
  \end{center}
  \caption{The STS of the farmer-wolf-goat-cabbage puzzle}
  \label{fig:sts-fwgc}
\end{figure}

\subsection{Simulation}


\subsection{Performance}
1 MB 917 ms

\subsection{Model redundancy}


\subsection{Model complexity}


\subsection{Extendability}
In another variant of this puzzle, when one of the objects is eaten, the puzzle does not reset but undoes the last action. Figure~\ref{fig:gg-fwgc-extended} shows this extension in two rules: the 'move cabbage' and the 'eaten undo' rule. The rules keep track of the last moved items. When an item gets eaten, the last move can be undone.

\begin{figure}[ht]
  \begin{center}
    \subfloat[The move cabbage rule]{\label{fig:start-bg-extended}\input{./img/c-fwgc-extended.tikz}}\hspace{20px}
    \subfloat[The eaten undo rule]{\label{fig:c-fwgc}\input{./img/eaten-undo-fwgc.tikz}}
  \end{center}
  \caption{The extended graph grammar of the board game example in Figure~\ref{fig:example_groove}}
  \label{fig:gg-fwgc-extended}
\end{figure}

\section{Example 3: restaurant reservations}
Figure~\ref{fig:reservation_start} shows the initial graph of three tables at a restaurant and two potential customers. Figure~\ref{fig:make-reservation} shows part of a rule that allows people to make reservations. The start and end times are timestamps represented by integers. This rule allows people to make multiple reservations. However, this rule violates the constraint in section~\ref{sec:constraint-1}, because the reservation objects are not unique. Allowing a dynamic amount of reservations per person means that variables need to be introduced dynamically as well or more complex variables have to be used, such as arrays. To model this system using an STS, arrays are also needed.

\begin{figure}[ht]
  \begin{center}
    \subfloat[The initial graph]{\label{fig:reservation_start}\input{./img/start-reservation.tikz}}\hspace{20px}
    \subfloat[The make reservation rule]{\label{fig:make-reservation}\input{./img/makeReservation.tikz}}
  \end{center}
  \caption{The graph grammar of the restaurant reservation system}
  \label{fig:gg-reservation}
\end{figure} 


\section{Example 4: bar tab system}
This example models a bar tab system, where customers can order beer, wine and soda. The price of the order adds to tab. Customers can pay their tab with money; they receive cash back if the payment exceeds the tab. Figure~\ref{fig:gg-bartab} shows the GG of the bar tab system. The '!process\_order' and '!process\_payment' rule have a higher priority than the '?order' and '?pay' rule. 

\begin{figure}[ht]
  \begin{center}
    \subfloat[The initial graph]{\label{fig:start-tab}\input{./img/start-tab.tikz}}\\
    \subfloat[The ?order rule with priority 0]{\label{fig:order-tab}\input{./img/order-tab.tikz}}\hspace{20px}
    \subfloat[The !process\_order rule with priority 1]{\label{fig:process_order}\input{./img/process_order.tikz}}\\
    \subfloat[The ?pay rule with priority 0]{\label{fig:pay-tab}\input{./img/pay-tab.tikz}}\hspace{20px}
    \subfloat[The !process\_payment rule with priority 1]{\label{fig:process_payment}\input{./img/process_payment.tikz}}
  \end{center}
  \caption{The graph grammar of the bar tab system}
  \label{fig:gg-bartab}
\end{figure}

\begin{figure}[ht]
  \begin{center}
    %\input{./img/sts_tab.tex}
  \end{center}
  \caption{The STS of the bar tab system}
  \label{fig:sts-bartab}
\end{figure}

\subsection{Simulation}


\subsection{Performance}


\subsection{Model redundancy}


\subsection{Model complexity}


\subsection{Extendability}


\begin{comment}
\section{Example 5: communication protocol}
\end{comment}


\section{Conclusions}
Need more complex data structures. And it is possible!
