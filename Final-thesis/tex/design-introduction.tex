This chapter covers the design issues of GRATiS. GRATiS transforms a graph grammar into an STS and performs the model-based testing with that STS. STSs are practical for model-based testing, as variables give support for modelling data values in systems. Using STSs supports the separation of state/transition coverage into location/switch relation coverage and data coverage.

Section~\ref{sec:gg-to-sts} gives a formal approach to transforming a graph grammar into an STS. Section \ref{sec:gg-exploration} gives possible optimizations. Section~\ref{sec:gratis-design} shows the design of GRATiS and the choices made. Section~\ref{sec:implementation} gives implementation problems and solutions on GROOVE and ATM.
