$\xymatrix{
   \fbox{$l_0$} \ar@(ld,lu)[]^{?c\:|\:N=C\:|\:N:=!N;C:=!C} \ar@(dl,dr)[]_{!eaten\:|\:(N!=G\land G=C)\lor (N!=W\land W=G)\:|\:N:=false;W:=false;G:=false;C:=false} \ar@(ur,ul)[]_{!done\:|\:N\land W\land G\land C\:|\:N:=false;W:=false;G:=false;C:=false} \ar@/^/[rrrr]^{?c\:|\:N!=G\:|} &&&& \fbox{$l_1$} \ar@/^/[llll]^{!retry\:|\:true\:|}
}$
